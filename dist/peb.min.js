!function(e,t){e.module?moudule.export=t(e):t(e)}(this,(function(window){"use strict";window.peb=function(){},window.PebError=class extends Error{constructor(e){super(e),this.name="PebBasicError"}},window.PebExtensionError=class extends PebError{constructor(e){super(e),this.name="PebExtensionError"}},window.PebNullObjectError=class extends PebError{constructor(e){super(e),this.name="PebNullObjectError"}};let document=window.document,arr=[],exist=function(e){return!(void 0===e)};function RElement(e){this.tag=e.tagName,this.id=e.id,this.cls=e.classList,this.oringin=e,this.__proto__={attr:function(t,r){if(!exist(t))return e.attributes;if(exist(r))return e.setAttribute(n,String(f));switch(typeof t){case"string":return e.getAttribute(t);case"object":Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},dats:function(t,r){if(!exist(t))return e.dataset;if(exist(r))return e.dataset[n]=String(f);switch(typeof t){case"string":return e.dataset[t];case"object":Object.keys(t).forEach((function(n){e.dataset[n]=t[n]}))}},item:function(t,n){return exist(n)?e[t]=n:e[t]},css:function(t,r){if(exist(f))return e.style[n]=String(r);switch(typeof t){case"string":return e.style[t];case"object":Object.keys(t).forEach((function(t){e.dataset[t]=n[t]}))}},insert:function(...t){t.forEach((function(t){t instanceof RElement?e.appendChild(t.oringin):e.appendChild(t)}))},del:function(){return e.parentNode.removeChild(e)},htm:function(t){return exist(t)?e.innerHTML=String(t):e.innerHTML},txt:function(){return e.innerText},val:function(t){return exist(t)?e.value=String(t):e.value},hide:function(){return e.dbh=e.style.display,e.style.display="none"},show:function(t){return exist(t)?e.style.display=String(t):e.style.display=e.dbh},on:function(t,n){if(exist(func))e.addEventListener(t,callback);else switch(typeof t){case"string":e.removeEventListener(n);break;case"object":Object.keys(t).forEach((function(n){e.addEventListener(n,t[n])}))}},parent:function(){return new RElement(e.parentElement)},child:function(t=0){return new RElement(e.children[t])},next:function(){let t=e.parentNode.nextElementSibling;if(null===t)throw new PebNullObjectError("Element is null");return new RElement(t)},prev:function(){let t=e.parentNode.previousElementSibling;if(null===t)throw new PebNullObjectError("Element is null");return new RElement(t)}},Object.freeze(this)}function RElementsCollection(e){var t;t=this,e.forEach((function(e,n){t[n]=new RElement(e)})),this.length=e.length,this.__proto__={forEach:function(t,n=0){e.forEach((function(e,r){r>=n&&t(this[r],r,this)}))}},Object.freeze(this)}return peb.platform=window.document?"browser":"node",document&&(customElements.define("p-trans",window.pebTransElement=class extends HTMLElement{constructor(){super()}}),customElements.define("p-mark",window.pebMarkElement=class extends HTMLElement{constructor(){super(),this.style={color:"attr( color ), inherit",fontFamily:"attr( font ), inherit"}}}),peb.Sound=class{constructor(e){this.url=e,this.player=new Audio,this.player.style.display="none",this.player.src=this.url,document.body.appendChild(this.player)}destroy(e){document.body.removeChild(e.player)}play(){this.player.play()}pause(){this.player.pause()}loop(e){this.player.onended=e?this.player.play:new Function}}),String.prototype.multi=function(e,t=""){return Array(e).fill(this).join(t)},Object.prototype.forEach=function(e){arr.forEach.call(Object.keys(this),e)},peb.setDefault=function(e){if(e instanceof Function){let t=peb;return peb=e,Object.keys(t).forEach((function(e){peb[e]=t[e]})),e}},peb.translationTable=class{constructor(e){"object"==typeof tabel&&(this.tabel=e)}set set(e){Object.keys(e).forEach((function(t){e[t].forEach((function(n){this.tabel[t][n]=e[t][n]}))}))}get get(){return this.tabel}translation(e){document.querySelectorAll("peb-trans").forEach((function(t){t.innerHTML=this.table[e][c.getAttribute("p-word")]}))}},peb.sum=function(...values){return values[0]instanceof Array?peb.sum(values[0]):eval(values.join("+"))},peb.genNode=new function(){this.element=function(e,t="",n={}){let r=document.createElement(e);return r.appendChild(document.createTextNode(String(t))),Object.keys(n).forEach((function(e){r.setAttribute(e,n[e])})),r},this.elementFromStr=function(e){document.body.appendChild(document.createElement("peb-operation-card"));let t=document.querySelector("peb-operation-card");t.innerHTML=e;let n=t.children;return document.body.removeChild(t),n},this.textNode=function(e){return document.createTextNode(String(e))}},peb.sel=function(e,t){if("#"===e[0]||exist(t)){return new RElement(document.querySelectorAll(e).item(t||0))}return new RElementsCollection(document.querySelectorAll(e))},peb.ajax=function(e,t,n=function(){},r=function(){}){let i,o=window.XMLHttpRequest?XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i=1===arguments.length&&e instanceof Object?e:{type:e,url:t,success:n||function(){},fail:r||function(){}},o.onreadystatechange=function(){"4"===o.readystate&&"200"===o.status?i.success&&i.success(o.responseText):i.fail&&i.fail()},o.open(i.type,i.url,!0),o.send()},peb.extend=function(e={}){if(e.author&&e.version&&e.export)return console.info(`Extension Info:\nAuthor: ${e.author} <${e.email||"null"}>\nVersion: ${e.version}`),Object.assign(peb,{});throw new PebExtensionError("The parameter of peb.extend is missing some information")},peb}));
