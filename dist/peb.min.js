var peb=function(){};(function(window){"use strict";let document=window.document,arr=[],exist=function(e){return void 0!==e};peb.version="2.1.3",peb.platform=window.document?"browser":"node",peb.Sound=class{static destroy(e){document.body.removeChild(e.player)}constructor(e){this.url=e,this.player=new Audio,this.player.style.display="none",this.player.src=this.url,document.body.appendChild(this.player)}play(){this.player.play()}pause(){this.player.pause()}loop(e){this.player.onended=e?this.player.play:new Function}},document&&(customElements.define("p-trans",window.pebTransElement=class extends HTMLElement{constructor(){super()}}),customElements.define("p-mark",window.pebMarkElement=class extends HTMLElement{constructor(){super(),this.style={color:"attr( color ), inherit",fontFamily:"attr( font ), inherit"}}})),String.prototype.multi=function(e,t=""){return Array(e).fill(this).join(t)},Object.prototype.forEach=e=>{arr.forEach.call(Object.keys(this),e)},peb.setDefault=function(e){let t=peb;return peb=e,Object.keys(t).forEach((function(e){peb[e]=t[e]})),e},peb.translation=function(e){document.querySelectorAll("peb-trans").forEach(t=>{t.innerHTML=e[t.getAttribute("p-lang")][t.getAttribute("p-word")]})},peb.sum=function(...values){return values[0]instanceof Array?peb.sum(values[0]):eval(values.join("+"))},peb.genNode=new function(){this.element=function(e,t="",n={}){let r=document.createElement(e);return r.appendChild(document.createTextNode(String(t))),Object.keys(n).forEach((function(e){r.setAttribute(e,n[e])})),r},this.elementFromText=function(e){document.body.appendChild(document.createElement("peb-operation-card"));let t=document.querySelector("peb-operation-card");t.innerHTML=e;let n=t.children[0];return document.body.removeChild(t),n},this.textNode=function(e){return document.createTextNode(String(e))}},peb.sel=function(e,t){if("#"===e[0]||exist(t)){let r=document.querySelectorAll(e).item(t||0);return new function(){this.selector=e,this.id=r.id,this.cls=r.classList,this.tag=r.tagName,this.obj=r,this.__proto__={attr:function(e,t){if(!exist(e))return r.attributes;if(exist(t))return r.setAttribute(n,String(f));switch(typeof e){case"string":return r.getAttribute(e);case"object":Object.keys(e).forEach(t=>{r.setAttribute(t,e[t])})}},dats:function(e,t){if(!exist(e))return r.dataset;if(exist(t))return r.dataset[n]=String(f);switch(typeof e){case"string":return r.dataset[e];case"object":Object.keys(e).forEach(t=>{r.dataset[t]=e[t]})}},item:function(e,t){return exist(t)?r[e]=t:r[e]},css:function(e,t){if(exist(f))return r.style[n]=String(t);switch(typeof e){case"string":return r.style[e];case"object":Object.keys(e).forEach(e=>{r.dataset[e]=n[e]})}},insert:function(...e){e.forEach(e=>{r.appendChild(e)})},del:function(){return r.parentNode.removeChild(r)},htm:function(e){return exist(e)?r.innerHTML=String(e):r.innerHTML},txt:function(){return r.innerText},val:function(e){return exist(e)?r.value=String(e):r.value},hide:function(){return r.dbh=r.style.display,r.style.display="none"},show:function(e){return exist(e)?r.style.display=String(e):r.style.display=r.dbh},on:function(e,t){if(exist(func))r.addEventListener(e,callback);else switch(typeof e){case"string":r.removeEventListener(t);break;case"object":Object.keys(e).forEach(t=>{r.addEventListener(t,e[t])})}}}}}return new function(){let t=document.querySelectorAll(e);t.forEach((e,t)=>{this[t]=e}),this.length=t.length,this.__proto__={forEach:function(n){t.forEach((t,r)=>{n(peb.pb(e,r),r)})}}}},peb.ajax=function(e,t,n=function(){},r=function(){}){let i,o=window.XMLHttpRequest?XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i=1===arguments.length&&"object"==typeof e?e:{type:e,url:t,success:n,fail:r},o.onreadystatechange=function(){"4"===o.readystate&&"200"===o.status?i.success(o.responseText):i.fail()},o.open(i.type,i.url,!0),o.send()},window.module&&(window.module.exports=peb)})(this);
